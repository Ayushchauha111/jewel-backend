# Database Configuration
spring.datasource.url=jdbc:mysql://localhost:3306/myapp?useSSL=false&allowPublicKeyRetrieval=true
spring.datasource.username=myuser
spring.datasource.password=StrongPassword123!

# Hibernate Configuration
# Changed from 'update' to 'validate' - Flyway handles schema changes
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false

# JWT Configuration
jewell.app.jwtSecret=======================typogram=Spring===========================
jewell.app.jwtExpirationMs=86400000

# Server Configuration
server.port=8000
server.address=0.0.0.0

# Gzip Compression (reduces bandwidth by ~70%)
server.compression.enabled=true
server.compression.mime-types=application/json,application/xml,text/html,text/xml,text/plain,text/css,application/javascript
server.compression.min-response-size=1024

# Log level (reduced for production performance)
logging.level.org.springframework.web.filter.CorsFilter=WARN
logging.level.org.springframework.security=WARN
logging.level.com.zaxxer.hikari=INFO
logging.level.org.hibernate.SQL=WARN

# razorpay key and secrets
jewell.app.razorpay.key = rzp_live_BXDfRjJIduFOfL
jewell.app.razorpay.secret = EwnaRBCGchJDIT95mO7gvLXp

# java mail sender
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=typogram.sup@gmail.com
spring.mail.password=nxdy atci jkqi pdwe
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000
spring.mail.properties.mail.smtp.from=typogram.sup@gmail.com

# Google OAuth Configuration
google.client.id=870921722543-knmvv9pokv1h89uqauh0inhte5q4tn8o.apps.googleusercontent.com

# Request Size Limits (DoS Protection)
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=10MB
server.tomcat.max-http-post-size=10MB
server.tomcat.max-http-form-post-size=5MB

# Connection Timeout (DoS Protection)
server.tomcat.connection-timeout=20000
server.tomcat.keep-alive-timeout=20000

# HikariCP Connection Pool (increased for SSE connections)
spring.datasource.hikari.maximum-pool-size=100
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.idle-timeout=300000
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.max-lifetime=1800000

# Tomcat thread pool (for SSE connections)
server.tomcat.threads.max=500
server.tomcat.threads.min-spare=50
server.tomcat.accept-count=200

# AI Teaching Feature Configuration
# Set to false to disable AI-powered typing coach features (insights, practice text, analytics)
jewell.ai.enabled=true

# Redis Configuration for Caching (Production)
# Enable for 30K+ users - caches courses, feature flags, rate limits
spring.redis.enabled=true
spring.redis.host=localhost
spring.redis.port=6379
spring.redis.password=
spring.redis.timeout=2000ms
spring.redis.lettuce.pool.max-active=20
spring.redis.lettuce.pool.max-idle=10
spring.redis.lettuce.pool.min-idle=5
spring.redis.lettuce.pool.max-wait=2000ms


# OCI Object Storage Configuration
jewell.oci.namespace=bmm07pdrrgsg
jewell.oci.stock-images.bucket=stock-images
jewell.oci.stock-images.public-url-prefix=https://objectstorage.ap-mumbai-1.oraclecloud.com/n/bmm07pdrrgsg/b/stock-images/o
jewell.oci.profile-images.bucket=profile-images
# On production: set OCI config path so auth works (401 NotAuthenticated otherwise).
# Option A: Set env var OCI_CONFIG_FILE=/absolute/path/to/config (e.g. /opt/jewell/.oci/config)
# Option B: Set env var OCI_CONFIG_PATH or this property (e.g. /opt/jewell/.oci/config)
# Ensure the config file exists and contains [DEFAULT] with: user, fingerprint, tenancy, region, key_file
# key_file can be absolute or relative to the config file directory.
jewell.oci.config-file-path=${OCI_CONFIG_PATH:}

# Shop GSTIN (for GST invoice / tax invoice)
shop.gstin=09AXDPK0044L1ZI

# Making charges per gram (₹) for gold – used in price calculation with GST (CGST 1.5% + SGST 1.5% = 3%)
shop.makingChargesPerGram=1150
