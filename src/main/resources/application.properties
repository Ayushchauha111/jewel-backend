# Default Configuration (Local Development)
# For production, use: -Dspring.profiles.active=prod
logging.level.org.springframework.cache=DEBUG
# Database Configuration - Jewelry Shop Management System
spring.datasource.url=jdbc:mysql://localhost:3306/jewel?useSSL=false&allowPublicKeyRetrieval=true&createDatabaseIfNotExist=true
spring.datasource.username=root
spring.datasource.password=root

# Hibernate Configuration
# Using 'update' to automatically create/update database tables
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true

# JWT Configuration
jewell.app.jwtSecret=======================typogram=Spring===========================
jewell.app.jwtExpirationMs=86400000

# Server Configuration
server.port=8000
server.address=0.0.0.0

# log level
logging.level.org.springframework.web.filter.CorsFilter=DEBUG

# application.properties
logging.level.org.springframework.security=DEBUG

# java mail sender
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=typogram.sup@gmail.com
spring.mail.password=nxdy atci jkqi pdwe
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.connectiontimeout=5000
spring.mail.properties.mail.smtp.timeout=5000
spring.mail.properties.mail.smtp.writetimeout=5000
spring.mail.properties.mail.smtp.from=typogram.sup@gmail.com

# razorpay key and secrets
jewell.app.razorpay.key = rzp_test_Ng4zjvXBo18B7Z
jewell.app.razorpay.secret = ROq0ezSO11dE9HGIcy2b3YNk

# Google OAuth Configuration
google.client.id=870921722543-knmvv9pokv1h89uqauh0inhte5q4tn8o.apps.googleusercontent.com

# Request Size Limits (DoS Protection)
spring.servlet.multipart.max-file-size=5MB
spring.servlet.multipart.max-request-size=10MB
server.tomcat.max-http-post-size=10MB
server.tomcat.max-http-form-post-size=5MB

# Connection Timeout (DoS Protection)
server.tomcat.connection-timeout=20000
server.tomcat.keep-alive-timeout=20000

# Database Connection Pooling (Critical for scale)
spring.datasource.hikari.maximum-pool-size=50
spring.datasource.hikari.minimum-idle=10
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.leak-detection-threshold=60000

# JPA Batch Processing (Optimize for scale)
spring.jpa.properties.hibernate.jdbc.batch_size=50
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true
spring.jpa.properties.hibernate.jdbc.batch_versioned_data=true

# Disable SQL logging in production (performance)
# spring.jpa.show-sql=false

# AI Teaching Feature Configuration
# Set to false to disable AI-powered typing coach features (insights, practice text, analytics)
jewell.ai.enabled=true

# Redis Configuration for Caching
# Set to false to disable Redis (for local development without Redis)
# Default is false - set to true in production or when Redis is available
spring.redis.enabled=true
spring.redis.host=localhost
spring.redis.port=6379
spring.redis.password=
spring.redis.timeout=2000ms
spring.redis.lettuce.pool.max-active=20
spring.redis.lettuce.pool.max-idle=10
spring.redis.lettuce.pool.min-idle=5
spring.redis.lettuce.pool.max-wait=2000ms

# MySQL Query Cache (if MySQL 5.7 or earlier)
# For MySQL 8.0+, use Redis caching instead
# Note: Query cache is removed in MySQL 8.0

# OCI Object Storage Configuration
jewell.oci.namespace=bmm07pdrrgsg
jewell.oci.stock-images.bucket=stock-images
jewell.oci.stock-images.public-url-prefix=https://objectstorage.ap-mumbai-1.oraclecloud.com/n/bmm07pdrrgsg/b/stock-images/o
jewell.oci.profile-images.bucket=profile-images

# Shop GSTIN (for GST invoice / tax invoice)
shop.gstin=09AXDPK0044L1ZI

# Making charges per gram (₹) for gold – used in price calculation with GST (CGST 1.5% + SGST 1.5% = 3%)
shop.makingChargesPerGram=1150
